(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{22:function(e,t,n){e.exports=n(35)},23:function(e,t,n){},28:function(e,t,n){e.exports=n.p+"static/media/adoptkitten.a85db6a3.jpeg"},29:function(e,t,n){e.exports=n.p+"static/media/adopt.d4413ad0.jpeg"},35:function(e,t,n){"use strict";n.r(t);n(23);var a=n(0),o=n.n(a),r=n(20),c=n.n(r),s=n(13),i=n(1),l=n(3),p=n(4),u=n(6),m=n(5),d=n(7);function h(){return o.a.createElement("h1",null,"Welcome To Petful!")}var f=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"home"},o.a.createElement("div",{className:"home-img-wrapper"},o.a.createElement("div",{className:"pics"},o.a.createElement("img",{src:n(28),alt:"cat"})),o.a.createElement("div",null,o.a.createElement(h,null)),o.a.createElement("div",{className:"pics"},o.a.createElement("img",{src:n(29),alt:"puppy"}))),o.a.createElement("div",{className:"home-body"},o.a.createElement("p",null,"This is a Pet adoption agency where you get in line and can either adopt the next dog or next cat in line for adoption!"),o.a.createElement("p",null,"Enjoy your rescue pet!"),o.a.createElement("button",{onClick:function(){return e.props.history.push("/adopt")}},"Adopt Now!")))}}]),t}(o.a.Component),g=o.a.createContext({dogs:{},cats:{},nextDog:{},nextCat:{},adoptedPet:{},people:[],currentUser:"",setDogs:function(){},setCats:function(){},setCurrentUser:function(){},setNextCat:function(){},setNextDog:function(){},setPeople:function(){}}),x=g,j=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={dogs:{},cats:{},people:[],currentUser:"",nextCat:{},nextDog:{},adoptedPet:{}},n.setPeople=function(e){n.setState({people:[e]})},n.setCurrentUser=function(e){n.setState({currentUser:e})},n.setCats=function(e){n.setState({cats:e})},n.setDogs=function(e){n.setState({dogs:e})},n.setNextCat=function(e){n.setState({nextCat:e})},n.setNextDog=function(e){n.setState({nextDog:e})},n.setAdoptedPet=function(e){n.setState({adoptedPet:e})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e={dogs:this.state.dogs,cats:this.state.cats,people:this.state.people,currentUser:this.state.currentUser,nextCat:this.state.nextCat,nextDog:this.state.nextDog,adoptedPet:this.state.adoptedPet,setCats:this.setCats,setDogs:this.setDogs,setPeople:this.setPeople,setCurrentUser:this.setCurrentUser,setNextCat:this.setNextCat,setNextDog:this.setNextDog,setAdoptedPet:this.setAdoptedPet};return o.a.createElement(g.Provider,{value:e},this.props.children)}}]),t}(o.a.Component),v=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.context.cats[0],t=e.age,n=e.breed,a=e.imageDescription,r=e.imageURL,c=e.name,s=e.sex,i=e.story;return c?o.a.createElement("div",{className:"next-pet-container"},o.a.createElement("h2",null,"Meet ",c,"!"),o.a.createElement("img",{src:r,alt:a}),o.a.createElement("p",null,t," year old ",s," ",n),o.a.createElement("p",null,i),o.a.createElement("button",{className:"adopt-button",onClick:this.props.adoptCatNow},"Adopt Now")):o.a.createElement("div",{className:"next-pet-container"},o.a.createElement("label",null,"All of our Cats have been adopted! Try again another day!"))}}]),t}(o.a.Component);v.contextType=x;var E=v,b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.context.dogs[0],t=e.age,n=e.breed,a=e.imageDescription,r=e.imageURL,c=e.name,s=e.sex,i=e.story;return c?o.a.createElement("div",{className:"next-pet-container"},o.a.createElement("h2",null,"Meet ",c,"!"),o.a.createElement("img",{src:r,alt:a}),o.a.createElement("p",null,t," year old ",s," ",n),o.a.createElement("p",null,i),o.a.createElement("button",{className:"adopt-button",onClick:this.props.adoptDogNow},"Adopt Now")):o.a.createElement("div",{className:"next-pet-container"},o.a.createElement("label",null,"All of our Dogs have been adopted! Try again another day!"))}}]),t}(o.a.Component);b.contextType=x;var N=b,y="http://localhost:8000",C=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",currentUser:"",nextUp:!1,signedUp:!1,intervalId:0},n.handleNameChange=function(e){n.setState({name:e.currentTarget.value})},n.submitForm=function(e){e.preventDefault();var t=n.state.name;fetch("".concat(y,"/people"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t})}).then((function(e){return e.json()})).then((function(e){n.context.setCurrentUser(t),n.context.setPeople(e),n.setState({signedUp:!0,currentUser:t})})).catch((function(e){alert("Something went wrong! ".concat(e.message))})),e.currentTarget.reset(),n.startTimer()},n.startTimer=function(){var e=["Joe","Jim","Jake","Keri","Steve","Conner","Jill"];n.state.intervalId=setInterval((function(){if(n.context.currentUser===n.props.peopleList[0])return console.log("setting next up and realperson"),n.props.setNextUp(),clearInterval(n.state.intervalId);if(n.context.currentUser!==n.props.peopleList[0]){if(n.props.peopleList.length<=3){console.log("adding a person");var t=Math.floor(6*Math.random())+1;fetch("".concat(y,"/people"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e[t]})}).then((function(e){return e.json()})).then((function(e){return n.context.setPeople(e)}))}Math.floor(2*Math.random())%2==0?n.props.adoptCatNow():n.props.adoptDogNow()}}),5e3)},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentWillUnmount",value:function(){return clearInterval(this.state.intervalId)}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"person-queue"},o.a.createElement("h3",null,"Waiting In Line"),o.a.createElement("ul",null,this.context.people.map((function(e){return e.map((function(e,t){return o.a.createElement("li",{key:t},e)}))}))),o.a.createElement("form",{className:"add-person-form",onSubmit:this.submitForm},o.a.createElement("input",{className:"name-textbox",type:"text",name:"name",onChange:function(t){e.handleNameChange(t)},placeholder:"Your Name",required:!0}),o.a.createElement("button",{className:"line-button",disabled:this.state.signedUp},"Get In Line!"))))}}]),t}(o.a.Component);C.contextType=x;var O=C,P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).removePet=function(){"cat"===n.props.petType?fetch("".concat(y,"/pets/api/removecat"),{method:"delete",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){n.context.setCats(e)})):fetch("".concat(y,"/pets/api/removedog"),{method:"delete",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){n.context.setDogs(e)}))},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.context.adoptedPet,n=this.context.currentUser;return o.a.createElement("div",{className:"confirmation-page"},o.a.createElement("h2",null,"Congrats ",n,"! You adopted ",t.name,"!"),o.a.createElement("div",{className:"confirmPic"},o.a.createElement("img",{src:t.imageURL,alt:t.description}),o.a.createElement(s.b,{to:"/"},o.a.createElement("button",{onClick:function(){return e.removePet()}},"Back Home!"))))}}]),t}(o.a.Component);P.contextType=x;var U=P,w=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.details,t=e.imageURL,n=e.name,a=e.imageDescription;return o.a.createElement("li",{className:"pet-pic-list"},o.a.createElement("div",{className:"pet-pic"},o.a.createElement("p",null,n),o.a.createElement("img",{src:t,alt:a})))}}]),t}(o.a.Component),k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("section",{className:"cats-and-dogs"},o.a.createElement("div",{className:"available-pets"},o.a.createElement("h3",null,"All Available Cats"),o.a.createElement("ul",{className:"pet-list"},Object.keys(this.context.cats).map((function(t){return o.a.createElement(w,{key:t,index:t,details:e.context.cats[t]})})))),o.a.createElement("div",{className:"available-pets"},o.a.createElement("h3",null,"All Available Dogs"),o.a.createElement("ul",{className:"pet-list"},Object.keys(this.context.dogs).map((function(t){return o.a.createElement(w,{key:t,index:t,details:e.context.dogs[t]})})))))}}]),t}(o.a.Component);k.contextType=x;var D=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",peopleList:[],signedUp:!1,nextUp:!1,realPerson:!1,adopted:!1,petType:null},n.adoptCatNow=function(){n.state.realPerson?(n.context.setAdoptedPet(n.context.cats[0]),n.setState({adopted:!0,petType:"cat"})):fetch("".concat(y,"/pets/api/removecat"),{method:"delete",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){n.context.setCats(e),n.context.setAdoptedPet(n.context.cats[0])})),fetch("".concat(y,"/people"),{method:"delete",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){n.context.setPeople(e),n.setState({peopleList:e})}))},n.adoptDogNow=function(){n.state.realPerson?(n.context.setAdoptedPet(n.context.dogs[0]),n.setState({adopted:!0,petType:"dog"})):fetch("".concat(y,"/pets/api/removedog"),{method:"delete",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){n.context.setDogs(e),n.context.setAdoptedPet(n.context.dogs[0])})),fetch("".concat(y,"/people"),{method:"delete",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(e){n.context.setPeople(e),n.setState({peopleList:e})}))},n.setNextUp=function(){n.setState({nextUp:!0,realPerson:!0})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(y,"/pets/api/getalldogs")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.setDogs(t)})),fetch("".concat(y,"/pets/api/getallcats")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.setCats(t)})),fetch("".concat(y,"/people")).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.context.setPeople(t),e.setState({peopleList:t})}))}},{key:"render",value:function(){return this.state.nextUp?this.state.adopted?this.state.adopted?o.a.createElement("div",{className:"confirmation-page"},o.a.createElement(U,{petType:this.state.petType})):void 0:o.a.createElement("div",{className:"adoption-page"},o.a.createElement(h,null),o.a.createElement(O,{startTimer:this.startTimer,adoptCatNow:this.adoptCatNow,adoptDogNow:this.adoptDogNow,peopleList:this.state.peopleList,setNextUp:this.setNextUp,testFunc:this.testFunc}),o.a.createElement("div",{className:"pets-and-queue"},o.a.createElement(E,{adoptCatNow:this.adoptCatNow}),o.a.createElement(N,{adoptDogNow:this.adoptDogNow}))):this.context.currentUser?o.a.createElement("div",{className:"adoption-page"},o.a.createElement(h,null),o.a.createElement("h3",null,"You are in line ",this.context.currentUser," !! Please wait...."),o.a.createElement(O,{startTimer:this.startTimer,adoptCatNow:this.adoptCatNow,adoptDogNow:this.adoptDogNow,peopleList:this.state.peopleList,setNextUp:this.setNextUp,testFunc:this.testFunc}),o.a.createElement(k,null)):o.a.createElement("div",{className:"adoption-page"},o.a.createElement(h,null),o.a.createElement("h3",null,"Enter your name to get in line now!"),o.a.createElement(O,{startTimer:this.startTimer,adoptCatNow:this.adoptCatNow,adoptDogNow:this.adoptDogNow,peopleList:this.state.peopleList,setNextUp:this.setNextUp,testFunc:this.testFunc}),o.a.createElement(k,null))}}]),t}(o.a.Component);D.contextType=x;var T=D;function A(){return o.a.createElement("div",null,o.a.createElement("h3",null,"Page Not Found!"))}var S=function(){return o.a.createElement(j,null,o.a.createElement(s.a,null,o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:f}),o.a.createElement(i.a,{path:"/adopt",component:T}),o.a.createElement(i.a,{component:A}))))};c.a.render(o.a.createElement(S,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d0176ad9.chunk.js.map